#!/usr/bin/bash

echo -e "\e[35;01;05m----------------------------------------------------------------------------- \e[m"
figlet Bem-vindo ao PotatoSec
echo -e "\e[35;01;05m----------------------------------------------------------------------------- \e[m"
echo -e "\e[35;01;05m----------------------------------------------------------------------------- \e[m"
function menu_options() {
echo -e "\e[33;01m------------------------------------------------------------------------------ \e[m"
	echo
	echo -e "\e[33;1m 1. curl capture \e[m"
	echo -e "\e[33;1m 2. BruteForce directory dirb \e[m"
	echo -e "\e[33;1m 3. identificador de firewall wafw00f\e[m"
	echo -e "\e[33;1m 0. Sair \e[m"
	echo
echo -e "\e[33;01m------------------------------------------------------------------------------ \e[m"
}

function curl_Capture() {
echo -e "\e[37;01m---------------------------------Curl----------------------------------------- \e[m"
	echo "Qual doamin deseja capturar?"
echo -e "\e[37;01m------------------------------------------------------------------------------"
	read domainCurl
echo
echo -e "\e[37;01m############################################################################## \e[m"
echo	
	resp=$(curl -v -H "User-Agent: Bugbounty" --head $domainCurl)
	echo "Captura de $domainCurl, feita: $resp"
	echo
echo -e "\e[37;01m############################################################################## \e[m"
}

function dirb_BruteForce() {
echo -e "\e[33;01m------------------------------------------------------------------------------ \e[m"
echo
	echo -e "\e[33;01mDeseja realizar com quais wordlists?
	1. Big?
	2. Small?
	3. Padrao?\e[m"
echo
echo -e "\e[33;01m------------------------------------------------------------------------------ \e[m"

echo -e "\e[37;01m------------------------------------------------------------------------------ \e[m"
	echo "Escolha uma option mostrada"	
	read opt
echo -e "\e[37;01m------------------------------------------------------------------------------ \e[m"

	case "$opt" in
	1)
		echo -e "\e[32;01m#####################################################\e[m"
		echo "Qual doamin deseja realizar o bruteForce de directory?"
		echo
		read domainDirbBig
		dirb $domainDirbBig /usr/share/wordlists/dirb/big.txt -a "BugBounty"
		echo -e "\e[32;01m#################################################### \e[m"
		break
		;;
	2)
		echo -e "\e[32;01;05m##################################################### \e[m"
		echo "Qual doamin deseja realizar Brute Force small?"
		echo
		read domainDirbSmall
		dirb $domainDirbSmall /usr/share/wordlists/dirb/small.txt -a "Bugbounty" -v
		echo
		echo -e "\e[32;01;05m#################################################### \e[m"
		break
		;;
	3)
		echo -e "\e[32;01/05##################################################### \e[m"
		echo "Qual doamin deseja realizar Brute Force padrao do dirb?"
		echo
		read domainDirb
		dirb $domainDirb -a "Bugbounty"
		echo
		echo -e "\e[32;01;05m#################################################### \e[m"
		break
		;;
	*)
		echo "OPTIONS NAO EXISTE"
		sleep 3
		;;
	esac
	
}

function wafwoof_ident() {
	echo -e "\e[32;01;05m ############################################### \e[m"
	echo "Bem-vindo a o wafw00f, qual o domain de teste?"
	read domainWaf
	wafw00f $domainWaf
	echo -e "\e[32;01;05m ############################################## \e[m"
}

menu_options
echo
echo -e "\e[33;01m------------------------------------------------------------------------------ \e[m"
echo "Escolha uma option mostrada"
echo
read options
echo -e "\e[33;01m------------------------------------------------------------------------------ \e[m"
x=$options

while [ $x > 0 ]
do	 
	case "$x" in
		1)
		curl_Capture
		break
		;;
		2)
		dirb_BruteForce
		break
		;;
		3)
		wafwoof_ident
		break
		;;
		0)
		echo "Saindo...."
		sleep 3
		x=0
		break
		;;
		*)
		echo -e "\e[31;1m Option invalida \e[m"
		break
		;;
	esac
done
